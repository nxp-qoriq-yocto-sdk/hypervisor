config PROJECTVERSION
	string
	option env="PROJECTVERSION"

config MAJORVERSION
	int
	option env="VERSION"

config SUBVERSION
	int
	option env="SUBVERSION"

config HV_VERSION
	string
	default PROJECTVERSION

config HV_MAJOR_VERSION
	int
	default MAJORVERSION

config HV_MINOR_VERSION
	int
	default SUBVERSION

source "libos/Kconfig"

config LIBOS_DEPS
	bool
	default y
	select LIBOS_MALLOC

config BYTE_CHAN
	bool "Byte-channel support"
	select LIBOS_QUEUE
	help
		Byte channels are a bidirectional pipe mechanism that
		allows communication between guests, character devices,
		multiplexers, and other components.

config BCMUX
	bool "Byte-channel multiplexer"
	depends on BYTE_CHAN
	help
		Byte channel multiplexing creates virtual channels over
		a single combined byte channel.  It is useful for, among
		other things, sharing a single serial port for the
		consoles of all guests.

config GDB_STUB
	bool "GDB Stub Support"
	depends on BYTE_CHAN
	help
		Enable GDB stub support.  This allows you to debug the guest 
		remotely with GDB.  The stub is located in the hypervisor, 
		allowing non-intrusive debugging.

config IPI_DOORBELL
	bool "Inter Partition Interrupt support"
	help
		Provides support for inter partition signalling.

config SHELL
	bool "Command-line shell"
	select LIBOS_QUEUE
	select LIBOS_READLINE
	help
		A command-line shell with various debugging and
		configuration commands.

config PAMU
	bool "PAMU/IOMMU support"
	select LIBOS_PAMU
	help
		Provides support for Peripheral Access Management Unit.

config TLB_CACHE
	bool "Cache TLB entries"
	help
		Rather than sending TLB misses directly to the guest,
		a larger TLB is maintained by the hypervisor in software,
		from which the hypervisor satisfies most TLB misses.  Only
		when an access misses the larger TLB cache will the guest's
		TLB miss handler be invoked.
		
		Besides improving performance, this option removes
		restrictions on size and alignment of TLB1 entries, and
		improves the handling of access holes within TLB1 entries.

		The cost of this option with the default cache size is
		256KiB per core, and the possibility of some small added
		latency when accessing pages that the guest believes are
		pinned to TLB1.
