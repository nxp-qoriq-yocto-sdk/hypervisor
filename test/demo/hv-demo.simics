#
# Script to run 8578/u-boot/ultravisor/linux on simulator
#

# UART0 is the hypervisor
# UART1 is byte-channel UART MUX
# UART2 is Linux partition 1
# UART3 is Linux partition 2
$use_uart1 = 0
$use_uart1_net = 1
$use_uart3 = 0

$guest_image[0]  = "vmlinux"
$guest_addr[0]   = 0xefa00000
$initrd_image[0]  = "busybox-1.1.3"
$initrd_addr[0]   = 0x02300000

$guest_image[1]  = "vmlinux"
$guest_addr[1]   = 0xefa00000
$initrd_image[1]  = "busybox-1.1.3"
$initrd_addr[1]   = 0x22300000

$kernel_image  = "uv.uImage"

$dtb_image  = "hv-demo.dtb"

add-directory "%script%/../common" -prepend
add-directory "%script%/../../bin" -prepend
add-directory "%script%/bin" -prepend
add-directory "%script%" -prepend

run-command-file "hvsim.include"                                                                 
