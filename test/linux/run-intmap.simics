#
# Script to run 8578/u-boot/ultravisor/linux on simulator
#

# UART0 is the hypervisor
# UART1 is Linux byte channel console
# UART2 is Linux serial console
$use_uart2 = 1

$guest_image[0]  = "vmlinux"
$guest_addr[0]   = 0x00000000
$guest_image[1]  = "rootfs.ext2.gz"
$guest_addr[1]   = 0x01000000

$kernel_image  = "hv.uImage"

$dev_tree_blob  = "hv-linux-intmap.dtb"

add-directory "%script%" -prepend
add-directory "%script%/../sim" -prepend
add-directory "%script%/../sim/images" -prepend
add-directory "../bin" -prepend
add-directory "bin" -prepend
add-directory "bin/linux" -prepend

run-command-file "boot.simics"
